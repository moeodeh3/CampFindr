(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(1499)}])},1499:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return k}});var n=s(5893),r=s(7294),i=s(8169);let l={primary:"#F6395D",background:"#FFFFFF",card:"#FDF6E3",textPrimary:"#000000",textSecondary:"#FFFFFF",textLightGray:"#D3D3D3",success:"#1BDBA1",failure:"#CA235F",warning:"#FF9D42",rating:"#FFD700"},a=e=>{let{onClick:t,children:s}=e;return(0,n.jsx)("button",{onClick:t,children:s})};var c=s(9417),o=s(1970),d=s(9198),u=s.n(d);s(5828);var x=s(5698);function h(e){let{activeDropdown:t,startDate:s,endDate:i,drivingDistance:d,partySize:x,handleDropdown:h,handleStartDate:p,handleEndDate:g,handleDrivingDistance:j,handlePartySize:w,onSearch:y}=e,v=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=e=>{v.current&&!v.current.contains(e.target)&&h(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[h]);let D=e=>{h(t===e?null:e)},N=(e,t,s)=>{s(t),h(null)};return(0,n.jsx)("div",{className:"flex w-full h-16 items-center justify-center",children:(0,n.jsxs)("div",{ref:v,className:"flex w-[75%] md:w-[60%] h-full rounded-full border-2 border-primary p-4 items-center justify-between",children:[(0,n.jsx)(m,{title:"Where",description:d||"Driving distance",className:"text-left md:w-[20%]",isActive:"Where"===t,toggleDropdown:()=>D("Where"),renderDropdown:()=>(0,n.jsx)(f,{items:["1 hour","2 hours","3 hours","4+ hours"],onSelect:e=>N("Where",e,j)})}),(0,n.jsxs)("div",{className:"hidden md:flex flex-1 justify-between items-center space-x-[5%] h-full",children:[(0,n.jsx)(m,{title:"Check in",description:s?s.toLocaleDateString():"Add dates",isActive:"Check in"===t,hasDivider:!0,className:"w-[20%]",toggleDropdown:()=>D("Check in"),renderDropdown:()=>(0,n.jsx)(u(),{selected:s,onChange:e=>N("Check in",e,p),inline:!0})}),(0,n.jsx)(m,{title:"Check out",description:i?i.toLocaleDateString():"Add dates",isActive:"Check out"===t,hasDivider:!0,className:"w-[20%]",toggleDropdown:()=>D("Check out"),renderDropdown:()=>(0,n.jsx)(u(),{selected:i,onChange:e=>N("Check out",e,g),inline:!0})}),(0,n.jsx)(m,{title:"Who",description:x||"Add guests",isActive:"Who"===t,hasDivider:!0,className:"w-[20%]",toggleDropdown:()=>D("Who"),renderDropdown:()=>(0,n.jsx)(f,{items:["1 guest","2 guests","3 guests","4 guests"],onSelect:e=>N("Who",e,w)})})]}),(0,n.jsx)("div",{className:"pl-4",children:(0,n.jsx)(a,{onClick:y,children:(0,n.jsx)("div",{className:"flex items-center justify-center bg-primary rounded-full p-2.5",children:(0,n.jsx)(o.G,{icon:c.Y$T,color:l.textSecondary,size:"lg"})})})})]})})}let m=e=>{let{title:t,description:s,className:r="",isActive:i,hasDivider:l,toggleDropdown:c,renderDropdown:o}=e;return(0,n.jsxs)("div",{className:"relative flex items-center justify-center h-full space-x-[10%] ".concat(r),children:[l&&(0,n.jsx)(x.P,{}),(0,n.jsx)(a,{onClick:c,children:(0,n.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,n.jsx)("p",{className:"font-semibold text-sm text-text-primary truncate whitespace-nowrap overflow-hidden",children:t}),(0,n.jsx)("p",{className:"font-light text-xs text-text-primary truncate whitespace-nowrap overflow-hidden",children:s})]})}),i&&(0,n.jsx)("div",{className:"absolute top-14 left-0 w-full bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:o()})]})},f=e=>{let{items:t,onSelect:s}=e;return(0,n.jsx)("ul",{className:"py-2",children:t.map((e,t)=>(0,n.jsx)("li",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>s(e),children:e},t))})};var p=s(120),g=s(9920),j=s(2060),w=s(5675),y=s.n(w);function v(e){let{resourceLocationId:t,image:s,title:r,park:i,cost:d,rating:u,onPress:x}=e;return(0,n.jsx)(a,{onClick:()=>x(t),children:(0,n.jsxs)("div",{className:"flex flex-col w-60 space-y-2",children:[(0,n.jsx)("div",{className:"relative w-60 h-60",children:(0,n.jsx)(y(),{src:s,alt:"",fill:!0,sizes:"(max-width: 768px) 100vw, 240px",style:{objectFit:"cover"},className:"rounded-xl"})}),(0,n.jsxs)("div",{className:"space-y-0",children:[(0,n.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,n.jsx)("p",{className:"text-text-primary text-sm font-bold",children:r}),(0,n.jsxs)("div",{className:"flex flex-row space-x-1 items-center",children:[(0,n.jsx)(o.G,{icon:c.Tab,size:"xs",color:l.rating}),(0,n.jsx)("p",{className:"text-rating text-sm font-bold",children:u})]})]}),(0,n.jsx)("p",{className:"text-text-primary text-sm font-normal",children:i}),(0,n.jsxs)("p",{className:"text-text-primary text-sm font-bold",children:[d," $"]})]})]})})}function D(e){let{availabilityLoadable:t,isSearching:s,onCardPressed:r}=e;return(0,j.JT)(t)(()=>s?(0,n.jsx)("div",{className:"flex justify-center items-center py-10",children:(0,n.jsx)("p",{className:"text-text-light-gray text-xl font-bold",children:"Searching..."})}):null,()=>null,e=>(console.log(e),(0,n.jsx)("div",{className:"flex flex-wrap justify-start gap-8 px-8",children:e.map(e=>(0,n.jsx)(v,{resourceLocationId:e.legendDetails.resourceLocationId,image:e.legendDetails.imageUrl,title:e.legendDetails.title,park:e.legendDetails.description,cost:"-",rating:"-",onPress:r},e.mapId))})))}var N=s(1163),b=s.n(N);function k(){let[e,t]=(0,r.useState)(null),[s,l]=(0,r.useState)(null),[a,c]=(0,r.useState)(null),[o,d]=(0,r.useState)(""),[u,x]=(0,r.useState)(""),[m,f]=(0,r.useState)(null),[w,y]=(0,r.useState)(!1),v=(0,g.I)(m?{...m,cartUid:"uid123",cartTransactionUid:"trans123",bookingUid:"booking123"}:null,{enabled:!!m&&w}),N=e=>{b().push("/resourceDetails?resourceLocationId=".concat(e))},k=()=>{let e=function(e,t,s){if(!e||!t)return console.error("Start date or end date is missing"),null;let n=s?parseInt(s):1,r=p.ou.fromJSDate(e).toFormat("yyyy-MM-dd"),i=p.ou.fromJSDate(t).toFormat("yyyy-MM-dd");return{bookingCategoryId:0,equipmentCategoryId:-32768,subEquipmentCategoryId:-32768,startDate:r,endDate:i,partySize:n,cartUid:"uid123",cartTransactionUid:"trans123",bookingUid:"booking123"}}(s,a,u);e&&(f(e),y(!0))};return(0,r.useEffect)(()=>{(0,j.JT)(v)(()=>null,()=>{y(!1)},()=>{y(!1)})},[v]),(0,n.jsx)("div",{className:"min-h-screen h-full bg-background overflow-x-hidden",children:(0,n.jsxs)("main",{className:"h-full space-y-8",children:[(0,n.jsx)(i.h,{}),(0,n.jsx)(h,{activeDropdown:e,startDate:s,endDate:a,drivingDistance:o,partySize:u,handleDropdown:e=>t(e),handleStartDate:e=>l(e),handleEndDate:e=>c(e),handleDrivingDistance:e=>d(e),handlePartySize:e=>x(e),onSearch:k}),(0,n.jsx)(D,{availabilityLoadable:v,isSearching:w,onCardPressed:N})]})})}}},function(e){e.O(0,[976,982,894,366,504,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);