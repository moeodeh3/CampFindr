"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/ontario-parks/availability/getAvailability";
exports.ids = ["pages/api/ontario-parks/availability/getAvailability"];
exports.modules = {

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "(api)/./src/pages/api/ontario-parks/availability/getAvailability.ts":
/*!*********************************************************************!*\
  !*** ./src/pages/api/ontario-parks/availability/getAvailability.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _legend_mapLegend__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../legend/mapLegend */ \"(api)/./src/pages/api/ontario-parks/legend/mapLegend.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ \"(api)/./src/pages/api/ontario-parks/availability/utils.ts\");\n\n\n\n// in-memory cache\nlet cacheData = {};\nlet cacheTimestamp = {};\n// we have a cache time of 2 minute\nconst CACHE_DURATION = 1000 * 60 * 2;\n// we generate a seed everytime or else the request would fail\nfunction generateSeed() {\n    return new Date().toISOString();\n}\n// we generate a unique cache key based on query parameters\nfunction generateCacheKey(url, queryParams) {\n    const queryString = Object.keys(queryParams).map((key)=>`${key}=${queryParams[key]}`).join(\"&\");\n    return crypto__WEBPACK_IMPORTED_MODULE_0___default().createHash(\"md5\").update(`${url}?${queryString}`).digest(\"hex\");\n}\nasync function FetchAvailability(queryParams) {\n    const url = `https://reservations.ontarioparks.ca/api/availability/map`;\n    const cacheKey = generateCacheKey(url, queryParams);\n    // we check if the cache is still valid\n    const now = Date.now();\n    if (cacheData[cacheKey] && cacheTimestamp[cacheKey] && now - cacheTimestamp[cacheKey] < CACHE_DURATION) {\n        return cacheData[cacheKey];\n    }\n    // if cache is not valid, we fetch new data\n    try {\n        const queryString = new URLSearchParams(queryParams).toString();\n        const fullUrl = `${url}?${queryString}`;\n        const resp = await fetch(fullUrl);\n        if (!resp.ok) {\n            const errorDetails = await resp.text();\n            console.error(`Failed to fetch data, status: ${resp.status}, details: ${errorDetails}`);\n            throw new Error(`Failed to fetch data: ${resp.status}`);\n        }\n        const data = await resp.json();\n        // update the cache\n        cacheData[cacheKey] = data;\n        cacheTimestamp[cacheKey] = now;\n        return data;\n    } catch (error) {\n        console.error(\"error fetching availability data:\", error);\n        throw new Error(\"Failed to fetch availability data\");\n    }\n}\nasync function FetchAllParksAvailability(queryParams) {\n    const allParksData = await FetchAvailability(queryParams);\n    // ensure that mapLinkAvailabilities exists\n    const childMapIds = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getChildMapIdsFromData)(allParksData);\n    const grandchildData = await Promise.all(childMapIds.map(async (childMapId)=>{\n        const childAvailability = await FetchAvailability({\n            ...queryParams,\n            mapId: childMapId\n        });\n        return childAvailability;\n    }));\n    const grandchildMapIds = grandchildData.flatMap((data)=>(0,_utils__WEBPACK_IMPORTED_MODULE_2__.getChildMapIdsFromData)(data)).filter((id, index, self)=>self.indexOf(id) === index);\n    const grandchildAvailabilityData = await Promise.all(grandchildMapIds.map(async (grandchildMapId)=>{\n        const legendDetails = await (0,_legend_mapLegend__WEBPACK_IMPORTED_MODULE_1__.getMapLegendDetails)(grandchildMapId);\n        return {\n            mapId: grandchildMapId,\n            legendDetails\n        };\n    }));\n    return grandchildAvailabilityData;\n}\nasync function handler(req, res) {\n    const { mapId , bookingCategoryId , equipmentCategoryId , subEquipmentCategoryId , cartUid , cartTransactionUid , bookingUid , startDate , endDate , partySize  } = req.query;\n    const queryParams = {\n        mapId: mapId ? Number(mapId) : -2147483464,\n        bookingCategoryId: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getQueryParamAsString)(bookingCategoryId, \"0\"),\n        equipmentCategoryId: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getQueryParamAsString)(equipmentCategoryId, \"-32768\"),\n        subEquipmentCategoryId: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getQueryParamAsString)(subEquipmentCategoryId, \"-32768\"),\n        cartUid: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getQueryParamAsString)(cartUid, crypto__WEBPACK_IMPORTED_MODULE_0___default().randomUUID()),\n        cartTransactionUid: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getQueryParamAsString)(cartTransactionUid, crypto__WEBPACK_IMPORTED_MODULE_0___default().randomUUID()),\n        bookingUid: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getQueryParamAsString)(bookingUid, crypto__WEBPACK_IMPORTED_MODULE_0___default().randomUUID()),\n        startDate: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getQueryParamAsString)(startDate, new Date().toISOString().split(\"T\")[0]),\n        endDate: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getQueryParamAsString)(endDate, new Date(new Date().setDate(new Date().getDate() + 1)).toISOString().split(\"T\")[0]),\n        getDailyAvailability: \"false\",\n        isReserving: \"true\",\n        filterData: `[]`,\n        boatLength: \"null\",\n        boatDraft: \"null\",\n        boatWidth: \"null\",\n        partySize: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getQueryParamAsString)(partySize, \"2\"),\n        numEquipment: \"null\",\n        seed: generateSeed()\n    };\n    if (!mapId) {\n        // initial search for all parks\n        const data = await FetchAllParksAvailability(queryParams);\n        return res.status(200).json(data);\n    } else {\n        // search one level lower\n        const data1 = await FetchAvailability(queryParams);\n        const legendDetails = await (0,_legend_mapLegend__WEBPACK_IMPORTED_MODULE_1__.getMapLegendDetails)(Number(mapId));\n        return res.status(200).json({\n            mapId,\n            legendDetails\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL29udGFyaW8tcGFya3MvYXZhaWxhYmlsaXR5L2dldEF2YWlsYWJpbGl0eS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUM0QjtBQUM4QjtBQUNjO0FBR3hFLGtCQUFrQjtBQUNsQixJQUFJSSxZQUFvQyxDQUFDO0FBQ3pDLElBQUlDLGlCQUE0QyxDQUFDO0FBRWpELG1DQUFtQztBQUNuQyxNQUFNQyxpQkFBaUIsT0FBTyxLQUFLO0FBRW5DLDhEQUE4RDtBQUM5RCxTQUFTQyxlQUF1QjtJQUM5QixPQUFPLElBQUlDLE9BQU9DLFdBQVc7QUFDL0I7QUFFQSwyREFBMkQ7QUFDM0QsU0FBU0MsaUJBQWlCQyxHQUFXLEVBQUVDLFdBQWdCLEVBQVU7SUFDL0QsTUFBTUMsY0FBY0MsT0FBT0MsSUFBSSxDQUFDSCxhQUM3QkksR0FBRyxDQUFDLENBQUNDLE1BQVEsQ0FBQyxFQUFFQSxJQUFJLENBQUMsRUFBRUwsV0FBVyxDQUFDSyxJQUFJLENBQUMsQ0FBQyxFQUN6Q0MsSUFBSSxDQUFDO0lBQ1IsT0FBT2xCLHdEQUFpQixDQUFDLE9BQU9vQixNQUFNLENBQUMsQ0FBQyxFQUFFVCxJQUFJLENBQUMsRUFBRUUsWUFBWSxDQUFDLEVBQUVRLE1BQU0sQ0FBQztBQUN6RTtBQXVCQSxlQUFlQyxrQkFDYlYsV0FBbUMsRUFDRztJQUN0QyxNQUFNRCxNQUFNLENBQUMseURBQXlELENBQUM7SUFFdkUsTUFBTVksV0FBV2IsaUJBQWlCQyxLQUFLQztJQUV2Qyx1Q0FBdUM7SUFDdkMsTUFBTVksTUFBTWhCLEtBQUtnQixHQUFHO0lBQ3BCLElBQ0VwQixTQUFTLENBQUNtQixTQUFTLElBQ25CbEIsY0FBYyxDQUFDa0IsU0FBUyxJQUN4QkMsTUFBTW5CLGNBQWMsQ0FBQ2tCLFNBQVMsR0FBR2pCLGdCQUNqQztRQUNBLE9BQU9GLFNBQVMsQ0FBQ21CLFNBQVM7SUFDNUIsQ0FBQztJQUVELDJDQUEyQztJQUMzQyxJQUFJO1FBQ0YsTUFBTVYsY0FB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QUNoRGxFLFdBQVcsR0FDWGdFLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUVsQkcsc0JBQXNCO1FBQ3RCQyxhQUFhO1FBQ2JDLFlBQVksQ0FBQyxFQUFFLENBQUM7UUFDaEJDLFlBQVk7UUFDWkMsV0FBVztRQUNYQyxXQUFXO1FBQ1haLFdBQVdsRSw2REFBcUJBLENBQUNrRSxXQUFXO1FBQzVDYSxjQUFjO1FBQ2RDLE1BQU01RTtJQUNSO0lBRUEsSUFBSSxDQUFDd0MsT0FBTztRQUNWLCtCQUErQjtRQUMvQixNQUFNVixPQUFPLE1BQU1FLDBCQUEwQjNCO1FBQzdDLE9BQU9nRCxJQUFJekIsTUFBTSxDQUFDLEtBQUtHLElBQUksQ0FBQ0Q7SUFDOUIsT0FBTztRQUNMLHlCQUF5QjtRQUV6QixNQUFNQSxRQUFPLE1BQU1mLGtCQUFrQlY7UUFDckMsTUFBTTZDLGdCQUFnQixNQUFNeEQsc0VBQW1CQSxDQUFDc0UsT0FBT3hCO1FBQ3ZELE9BQU9hLElBQUl6QixNQUFNLENBQUMsS0FBS0csSUFBSSxDQUFDO1lBQUVTO1lBQU9VO1FBQWM7SUFDckQsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW1wZmluZHIvLi9zcmMvcGFnZXMvYXBpL29udGFyaW8tcGFya3MvYXZhaWxhYmlsaXR5L2dldEF2YWlsYWJpbGl0eS50cz84MzNmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tIFwibmV4dFwiO1xuaW1wb3J0IGNyeXB0byBmcm9tIFwiY3J5cHRvXCI7XG5pbXBvcnQgeyBnZXRNYXBMZWdlbmREZXRhaWxzIH0gZnJvbSBcIi4uL2xlZ2VuZC9tYXBMZWdlbmRcIjtcbmltcG9ydCB7IGdldENoaWxkTWFwSWRzRnJvbURhdGEsIGdldFF1ZXJ5UGFyYW1Bc1N0cmluZyB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBPbnRhcmlvQXZhaWxhYmlsaXR5UmVzcG9uc2UgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG4vLyBpbi1tZW1vcnkgY2FjaGVcbmxldCBjYWNoZURhdGE6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fTtcbmxldCBjYWNoZVRpbWVzdGFtcDogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xuXG4vLyB3ZSBoYXZlIGEgY2FjaGUgdGltZSBvZiAyIG1pbnV0ZVxuY29uc3QgQ0FDSEVfRFVSQVRJT04gPSAxMDAwICogNjAgKiAyO1xuXG4vLyB3ZSBnZW5lcmF0ZSBhIHNlZWQgZXZlcnl0aW1lIG9yIGVsc2UgdGhlIHJlcXVlc3Qgd291bGQgZmFpbFxuZnVuY3Rpb24gZ2VuZXJhdGVTZWVkKCk6IHN0cmluZyB7XG4gIHJldHVybiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG59XG5cbi8vIHdlIGdlbmVyYXRlIGEgdW5pcXVlIGNhY2hlIGtleSBiYXNlZCBvbiBxdWVyeSBwYXJhbWV0ZXJzXG5mdW5jdGlvbiBnZW5lcmF0ZUNhY2hlS2V5KHVybDogc3RyaW5nLCBxdWVyeVBhcmFtczogYW55KTogc3RyaW5nIHtcbiAgY29uc3QgcXVlcnlTdHJpbmcgPSBPYmplY3Qua2V5cyhxdWVyeVBhcmFtcylcbiAgICAubWFwKChrZXkpID0+IGAke2tleX09JHtxdWVyeVBhcmFtc1trZXldfWApXG4gICAgLmpvaW4oXCImXCIpO1xuICByZXR1cm4gY3J5cHRvLmNyZWF0ZUhhc2goXCJtZDVcIikudXBkYXRlKGAke3VybH0/JHtxdWVyeVN0cmluZ31gKS5kaWdlc3QoXCJoZXhcIik7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmV0Y2hBdmFpbGFiaWxpdHlJbnB1dCB7XG4gIG1hcElkOiBudW1iZXI7IC8vIFRoZSBtYWluIHBhcmsgb3IgbWFwIGlkZW50aWZpZXIsIGRlZmF1bHRzIHRvIGFsbCBwYXJrcyBJRCAoLTIxNDc0ODM0NjQpXG4gIGJvb2tpbmdDYXRlZ29yeUlkOiBzdHJpbmc7IC8vIERlZmF1bHQgY2F0ZWdvcnkgZm9yIGNhbXBzaXRlIHJlc2VydmF0aW9uc1xuICBlcXVpcG1lbnRDYXRlZ29yeUlkOiBzdHJpbmc7IC8vIENhdGVnb3J5IG9mIGVxdWlwbWVudCAoZS5nLiwgdGVudCksIGRlZmF1bHQ6IC0zMjc2OCAoc2luZ2xlIHRlbnQpXG4gIHN1YkVxdWlwbWVudENhdGVnb3J5SWQ6IHN0cmluZzsgLy8gU3ViY2F0ZWdvcnkgb2YgZXF1aXBtZW50LCBkZWZhdWx0OiAtMzI3NjggKGUuZy4sIHNpbmdsZSB0ZW50IHR5cGUpXG4gIGNhcnRVaWQ6IHN0cmluZzsgLy8gVW5pcXVlIGlkZW50aWZpZXIgZm9yIGEgY2FydCBzZXNzaW9uLCBkZWZhdWx0OiBnZW5lcmF0ZWQgVVVJRFxuICBjYXJ0VHJhbnNhY3Rpb25VaWQ6IHN0cmluZzsgLy8gVW5pcXVlIGlkZW50aWZpZXIgZm9yIGNhcnQgdHJhbnNhY3Rpb25zLCBkZWZhdWx0OiBnZW5lcmF0ZWQgVVVJRFxuICBib29raW5nVWlkOiBzdHJpbmc7IC8vIFVuaXF1ZSBpZGVudGlmaWVyIGZvciBib29raW5nIHNlc3Npb24sIGRlZmF1bHQ6IGdlbmVyYXRlZCBVVUlEXG4gIHN0YXJ0RGF0ZTogc3RyaW5nOyAvLyBCb29raW5nIHN0YXJ0IGRhdGUsIGRlZmF1bHQ6IHRvZGF5XG4gIGVuZERhdGU6IHN0cmluZzsgLy8gQm9va2luZyBlbmQgZGF0ZSwgZGVmYXVsdDogb25lIGRheSBhZnRlciB0aGUgc3RhcnQgZGF0ZVxuICBnZXREYWlseUF2YWlsYWJpbGl0eTogc3RyaW5nOyAvLyBXaGV0aGVyIHRvIGZldGNoIGRhaWx5IGF2YWlsYWJpbGl0eSwgZGVmYXVsdDogXCJmYWxzZVwiXG4gIGlzUmVzZXJ2aW5nOiBzdHJpbmc7IC8vIFNwZWNpZmllcyByZXNlcnZhdGlvbiBzdGF0dXMsIGRlZmF1bHQ6IFwidHJ1ZVwiXG4gIGZpbHRlckRhdGE6IHN0cmluZzsgLy8gQWRkaXRpb25hbCBmaWx0ZXJpbmcgY3JpdGVyaWEsIGRlZmF1bHQ6IFwiW11cIiBmb3Igbm8gYWRkaXRpb25hbCBmaWx0ZXJzXG4gIGJvYXRMZW5ndGg6IHN0cmluZzsgLy8gQm9hdCBsZW5ndGggZmlsdGVyLCBkZWZhdWx0OiBcIm51bGxcIiBmb3Igbm8gZmlsdGVyXG4gIGJvYXREcmFmdDogc3RyaW5nOyAvLyBCb2F0IGRyYWZ0IGZpbHRlciwgZGVmYXVsdDogXCJudWxsXCIgZm9yIG5vIGZpbHRlclxuICBib2F0V2lkdGg6IHN0cmluZzsgLy8gQm9hdCB3aWR0aCBmaWx0ZXIsIGRlZmF1bHQ6IFwibnVsbFwiIGZvciBubyBmaWx0ZXJcbiAgcGFydHlTaXplOiBzdHJpbmc7IC8vIE51bWJlciBvZiBndWVzdHMsIGRlZmF1bHQ6IFwiMlwiXG4gIG51bUVxdWlwbWVudDogc3RyaW5nOyAvLyBOdW1iZXIgb2YgZXF1aXBtZW50IGl0ZW1zLCBkZWZhdWx0OiBcIm51bGxcIlxuICBzZWVkOiBzdHJpbmc7IC8vIFNlZWQgdmFsdWUgZm9yIGNhY2hpbmcgYW5kIHVuaXF1ZW5lc3MsIGRlZmF1bHQ6IGN1cnJlbnQgdGltZXN0YW1wXG59XG5cbmFzeW5jIGZ1bmN0aW9uIEZldGNoQXZhaWxhYmlsaXR5KFxuICBxdWVyeVBhcmFtczogRmV0Y2hBdmFpbGFiaWxpdHlJbnB1dFxuKTogUHJvbWlzZTxPbnRhcmlvQXZhaWxhYmlsaXR5UmVzcG9uc2U+IHtcbiAgY29uc3QgdXJsID0gYGh0dHBzOi8vcmVzZXJ2YXRpb25zLm9udGFyaW9wYXJrcy5jYS9hcGkvYXZhaWxhYmlsaXR5L21hcGA7XG5cbiAgY29uc3QgY2FjaGVLZXkgPSBnZW5lcmF0ZUNhY2hlS2V5KHVybCwgcXVlcnlQYXJhbXMpO1xuXG4gIC8vIHdlIGNoZWNrIGlmIHRoZSBjYWNoZSBpcyBzdGlsbCB2YWxpZFxuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICBpZiAoXG4gICAgY2FjaGVEYXRhW2NhY2hlS2V5XSAmJlxuICAgIGNhY2hlVGltZXN0YW1wW2NhY2hlS2V5XSAmJlxuICAgIG5vdyAtIGNhY2hlVGltZXN0YW1wW2NhY2hlS2V5XSA8IENBQ0hFX0RVUkFUSU9OXG4gICkge1xuICAgIHJldHVybiBjYWNoZURhdGFbY2FjaGVLZXldO1xuICB9XG5cbiAgLy8gaWYgY2FjaGUgaXMgbm90IHZhbGlkLCB3ZSBmZXRjaCBuZXcgZGF0YVxuICB0cnkge1xuICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhxdWVyeVBhcmFtcyBhcyBhbnkpLnRvU3RyaW5nKCk7XG4gICAgY29uc3QgZnVsbFVybCA9IGAke3VybH0/JHtxdWVyeVN0cmluZ31gO1xuXG4gICAgY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoKGZ1bGxVcmwpO1xuXG4gICAgaWYgKCFyZXNwLm9rKSB7XG4gICAgICBjb25zdCBlcnJvckRldGFpbHMgPSBhd2FpdCByZXNwLnRleHQoKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGBGYWlsZWQgdG8gZmV0Y2ggZGF0YSwgc3RhdHVzOiAke3Jlc3Auc3RhdHVzfSwgZGV0YWlsczogJHtlcnJvckRldGFpbHN9YFxuICAgICAgKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIGRhdGE6ICR7cmVzcC5zdGF0dXN9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YTogT250YXJpb0F2YWlsYWJpbGl0eVJlc3BvbnNlID0gYXdhaXQgcmVzcC5qc29uKCk7XG5cbiAgICAvLyB1cGRhdGUgdGhlIGNhY2hlXG4gICAgY2FjaGVEYXRhW2NhY2hlS2V5XSA9IGRhdGE7XG4gICAgY2FjaGVUaW1lc3RhbXBbY2FjaGVLZXldID0gbm93O1xuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcImVycm9yIGZldGNoaW5nIGF2YWlsYWJpbGl0eSBkYXRhOlwiLCBlcnJvcik7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIGF2YWlsYWJpbGl0eSBkYXRhXCIpO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIEZldGNoQWxsUGFya3NBdmFpbGFiaWxpdHkocXVlcnlQYXJhbXM6IEZldGNoQXZhaWxhYmlsaXR5SW5wdXQpIHtcbiAgY29uc3QgYWxsUGFya3NEYXRhID0gYXdhaXQgRmV0Y2hBdmFpbGFiaWxpdHkocXVlcnlQYXJhbXMpO1xuXG4gIC8vIGVuc3VyZSB0aGF0IG1hcExpbmtBdmFpbGFiaWxpdGllcyBleGlzdHNcbiAgY29uc3QgY2hpbGRNYXBJZHMgPSBnZXRDaGlsZE1hcElkc0Zyb21EYXRhKGFsbFBhcmtzRGF0YSk7XG5cbiAgY29uc3QgZ3JhbmRjaGlsZERhdGEgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICBjaGlsZE1hcElkcy5tYXAoYXN5bmMgKGNoaWxkTWFwSWQpID0+IHtcbiAgICAgIGNvbnN0IGNoaWxkQXZhaWxhYmlsaXR5ID0gYXdhaXQgRmV0Y2hBdmFpbGFiaWxpdHkoe1xuICAgICAgICAuLi5xdWVyeVBhcmFtcyxcbiAgICAgICAgbWFwSWQ6IGNoaWxkTWFwSWQsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjaGlsZEF2YWlsYWJpbGl0eTtcbiAgICB9KVxuICApO1xuXG4gIGNvbnN0IGdyYW5kY2hpbGRNYXBJZHMgPSBncmFuZGNoaWxkRGF0YVxuICAgIC5mbGF0TWFwKChkYXRhKSA9PiBnZXRDaGlsZE1hcElkc0Zyb21EYXRhKGRhdGEpKVxuICAgIC5maWx0ZXIoKGlkLCBpbmRleCwgc2VsZikgPT4gc2VsZi5pbmRleE9mKGlkKSA9PT0gaW5kZXgpO1xuXG4gIGNvbnN0IGdyYW5kY2hpbGRBdmFpbGFiaWxpdHlEYXRhID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgZ3JhbmRjaGlsZE1hcElkcy5tYXAoYXN5bmMgKGdyYW5kY2hpbGRNYXBJZCkgPT4ge1xuICAgICAgY29uc3QgbGVnZW5kRGV0YWlscyA9IGF3YWl0IGdldE1hcExlZ2VuZERldGFpbHMoZ3JhbmRjaGlsZE1hcElkKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1hcElkOiBncmFuZGNoaWxkTWFwSWQsXG4gICAgICAgIGxlZ2VuZERldGFpbHMsXG4gICAgICB9O1xuICAgIH0pXG4gICk7XG5cbiAgcmV0dXJuIGdyYW5kY2hpbGRBdmFpbGFiaWxpdHlEYXRhO1xufVxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKFxuICByZXE6IE5leHRBcGlSZXF1ZXN0LFxuICByZXM6IE5leHRBcGlSZXNwb25zZVxuKSB7XG4gIGNvbnN0IHtcbiAgICBtYXBJZCxcbiAgICBib29raW5nQ2F0ZWdvcnlJZCxcbiAgICBlcXVpcG1lbnRDYXRlZ29yeUlkLFxuICAgIHN1YkVxdWlwbWVudENhdGVnb3J5SWQsXG4gICAgY2FydFVpZCxcbiAgICBjYXJ0VHJhbnNhY3Rpb25VaWQsXG4gICAgYm9va2luZ1VpZCxcbiAgICBzdGFydERhdGUsXG4gICAgZW5kRGF0ZSxcbiAgICBwYXJ0eVNpemUsXG4gIH0gPSByZXEucXVlcnk7XG5cbiAgY29uc3QgcXVlcnlQYXJhbXM6IEZldGNoQXZhaWxhYmlsaXR5SW5wdXQgPSB7XG4gICAgbWFwSWQ6IG1hcElkID8gTnVtYmVyKG1hcElkKSA6IC0yMTQ3NDgzNDY0LCAvLyBkZWZhdWx0IHRvIGFsbCBwYXJrcyBtYXAgSUQgaWYgbm90IHByb3ZpZGVkXG4gICAgYm9va2luZ0NhdGVnb3J5SWQ6IGdldFF1ZXJ5UGFyYW1Bc1N0cmluZyhib29raW5nQ2F0ZWdvcnlJZCwgXCIwXCIpLFxuICAgIGVxdWlwbWVudENhdGVnb3J5SWQ6IGdldFF1ZXJ5UGFyYW1Bc1N0cmluZyhlcXVpcG1lbnRDYXRlZ29yeUlkLCBcIi0zMjc2OFwiKSwgLy8gc2luZ2xlIHRlbnRcbiAgICBzdWJFcXVpcG1lbnRDYXRlZ29yeUlkOiBnZXRRdWVyeVBhcmFtQXNTdHJpbmcoXG4gICAgICBzdWJFcXVpcG1lbnRDYXRlZ29yeUlkLFxuICAgICAgXCItMzI3NjhcIlxuICAgICksXG4gICAgY2FydFVpZDogZ2V0UXVlcnlQYXJhbUFzU3RyaW5nKGNhcnRVaWQsIGNyeXB0by5yYW5kb21VVUlEKCkpLFxuICAgIGNhcnRUcmFuc2FjdGlvblVpZDogZ2V0UXVlcnlQYXJhbUFzU3RyaW5nKFxuICAgICAgY2FydFRyYW5zYWN0aW9uVWlkLFxuICAgICAgY3J5cHRvLnJhbmRvbVVVSUQoKVxuICAgICksXG4gICAgYm9va2luZ1VpZDogZ2V0UXVlcnlQYXJhbUFzU3RyaW5nKGJvb2tpbmdVaWQsIGNyeXB0by5yYW5kb21VVUlEKCkpLFxuICAgIHN0YXJ0RGF0ZTogZ2V0UXVlcnlQYXJhbUFzU3RyaW5nKFxuICAgICAgc3RhcnREYXRlLFxuICAgICAgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXVxuICAgICksXG4gICAgZW5kRGF0ZTogZ2V0UXVlcnlQYXJhbUFzU3RyaW5nKFxuICAgICAgZW5kRGF0ZSxcbiAgICAgIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RGF0ZShuZXcgRGF0ZSgpLmdldERhdGUoKSArIDEpKVxuICAgICAgICAudG9JU09TdHJpbmcoKVxuICAgICAgICAuc3BsaXQoXCJUXCIpWzBdXG4gICAgKSxcbiAgICBnZXREYWlseUF2YWlsYWJpbGl0eTogXCJmYWxzZVwiLFxuICAgIGlzUmVzZXJ2aW5nOiBcInRydWVcIixcbiAgICBmaWx0ZXJEYXRhOiBgW11gLFxuICAgIGJvYXRMZW5ndGg6IFwibnVsbFwiLFxuICAgIGJvYXREcmFmdDogXCJudWxsXCIsXG4gICAgYm9hdFdpZHRoOiBcIm51bGxcIixcbiAgICBwYXJ0eVNpemU6IGdldFF1ZXJ5UGFyYW1Bc1N0cmluZyhwYXJ0eVNpemUsIFwiMlwiKSxcbiAgICBudW1FcXVpcG1lbnQ6IFwibnVsbFwiLFxuICAgIHNlZWQ6IGdlbmVyYXRlU2VlZCgpLFxuICB9O1xuXG4gIGlmICghbWFwSWQpIHtcbiAgICAvLyBpbml0aWFsIHNlYXJjaCBmb3IgYWxsIHBhcmtzXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IEZldGNoQWxsUGFya3NBdmFpbGFiaWxpdHkocXVlcnlQYXJhbXMpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihkYXRhKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBzZWFyY2ggb25lIGxldmVsIGxvd2VyXG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgRmV0Y2hBdmFpbGFiaWxpdHkocXVlcnlQYXJhbXMpO1xuICAgIGNvbnN0IGxlZ2VuZERldGFpbHMgPSBhd2FpdCBnZXRNYXBMZWdlbmREZXRhaWxzKE51bWJlcihtYXBJZCkpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1hcElkLCBsZWdlbmREZXRhaWxzIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiY3J5cHRvIiwiZ2V0TWFwTGVnZW5kRGV0YWlscyIsImdldENoaWxkTWFwSWRzRnJvbURhdGEiLCJnZXRRdWVyeVBhcmFtQXNTdHJpbmciLCJjYWNoZURhdGEiLCJjYWNoZVRpbWVzdGFtcCIsIkNBQ0hFX0RVUkFUSU9OIiwiZ2VuZXJhdGVTZWVkIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZ2VuZXJhdGVDYWNoZUtleSIsInVybCIsInF1ZXJ5UGFyYW1zIiwicXVlcnlTdHJpbmciLCJPYmplY3QiLCJrZXlzIiwibWFwIiwia2V5Iiwiam9pbiIsImNyZWF0ZUhhc2giLCJ1cGRhdGUiLCJkaWdlc3QiLCJGZXRjaEF2YWlsYWJpbGl0eSIsImNhY2hlS2V5Iiwibm93IiwiVVJMU2VhcmNoUGFyYW1zIiwidG9TdHJpbmciLCJmdWxsVXJsIiwicmVzcCIsImZldGNoIiwib2siLCJlcnJvckRldGFpbHMiLCJ0ZXh0IiwiY29uc29sZSIsImVycm9yIiwic3RhdHVzIiwiRXJyb3IiLCJkYXRhIiwianNvbiIsIkZldGNoQWxsUGFya3NBdmFpbGFiaWxpdHkiLCJhbGxQYXJrc0RhdGEiLCJjaGlsZE1hcElkcyIsImdyYW5kY2hpbGREYXRhIiwiUHJvbWlzZSIsImFsbCIsImNoaWxkTWFwSWQiLCJjaGlsZEF2YWlsYWJpbGl0eSIsIm1hcElkIiwiZ3JhbmRjaGlsZE1hcElkcyIsImZsYXRNYXAiLCJmaWx0ZXIiLCJpZCIsImluZGV4Iiwic2VsZiIsImluZGV4T2YiLCJncmFuZGNoaWxkQXZhaWxhYmlsaXR5RGF0YSIsImdyYW5kY2hpbGRNYXBJZCIsImxlZ2VuZERldGFpbHMiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwiYm9va2luZ0NhdGVnb3J5SWQiLCJlcXVpcG1lbnRDYXRlZ29yeUlkIiwic3ViRXF1aXBtZW50Q2F0ZWdvcnlJZCIsImNhcnRVaWQiLCJjYXJ0VHJhbnNhY3Rpb25VaWQiLCJib29raW5nVWlkIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsInBhcnR5U2l6ZSIsInF1ZXJ5IiwiTnVtYmVyIiwicmFuZG9tVVVJRCIsInNwbGl0Iiwic2V0RGF0ZSIsImdldERhdGUiLCJnZXREYWlseUF2YWlsYWJpbGl0eSIsImlzUmVzZXJ2aW5nIiwiZmlsdGVyRGF0YSIsImJvYXRMZW5ndGgiLCJib2F0RHJhZnQiLCJib2F0V2lkdGgiLCJudW1FcXVpcG1lbnQiLCJzZWVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/ontario-parks/availability/getAvailability.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/ontario-parks/availability/utils.ts":
/*!***********************************************************!*\
  !*** ./src/pages/api/ontario-parks/availability/utils.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getChildMapIdsFromData\": () => (/* binding */ getChildMapIdsFromData),\n/* harmony export */   \"getQueryParamAsString\": () => (/* binding */ getQueryParamAsString)\n/* harmony export */ });\nconst getQueryParamAsString = (param, defaultValue)=>Array.isArray(param) ? param[0] : param || defaultValue;\nconst getChildMapIdsFromData = (data)=>{\n    return data.mapLinkAvailabilities ? Object.keys(data.mapLinkAvailabilities).filter((id)=>data.mapLinkAvailabilities[id].every((val)=>val === 0)).map(Number) : [];\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL29udGFyaW8tcGFya3MvYXZhaWxhYmlsaXR5L3V0aWxzLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBRU8sTUFBTUEsd0JBQXdCLENBQ25DQyxPQUNBQyxlQUNZQyxNQUFNQyxPQUFPLENBQUNILFNBQVNBLEtBQUssQ0FBQyxFQUFFLEdBQUdBLFNBQVNDLFlBQVksQ0FBRTtBQUVoRSxNQUFNRyx5QkFBeUIsQ0FDcENDLE9BQ2E7SUFDYixPQUFPQSxLQUFLQyxxQkFBcUIsR0FDN0JDLE9BQU9DLElBQUksQ0FBQ0gsS0FBS0MscUJBQXFCLEVBQ25DRyxNQUFNLENBQUMsQ0FBQ0MsS0FDUEwsS0FBS0MscUJBQXFCLENBQUNJLEdBQUcsQ0FBQ0MsS0FBSyxDQUFDLENBQUNDLE1BQWdCQSxRQUFRLElBRS9EQyxHQUFHLENBQUNDLFVBQ1AsRUFBRTtBQUNSLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW1wZmluZHIvLi9zcmMvcGFnZXMvYXBpL29udGFyaW8tcGFya3MvYXZhaWxhYmlsaXR5L3V0aWxzLnRzP2E3YWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT250YXJpb0F2YWlsYWJpbGl0eVJlc3BvbnNlIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IGdldFF1ZXJ5UGFyYW1Bc1N0cmluZyA9IChcbiAgcGFyYW06IHN0cmluZyB8IHN0cmluZ1tdIHwgdW5kZWZpbmVkLFxuICBkZWZhdWx0VmFsdWU6IHN0cmluZ1xuKTogc3RyaW5nID0+IChBcnJheS5pc0FycmF5KHBhcmFtKSA/IHBhcmFtWzBdIDogcGFyYW0gfHwgZGVmYXVsdFZhbHVlKTtcblxuZXhwb3J0IGNvbnN0IGdldENoaWxkTWFwSWRzRnJvbURhdGEgPSAoXG4gIGRhdGE6IE9udGFyaW9BdmFpbGFiaWxpdHlSZXNwb25zZVxuKTogbnVtYmVyW10gPT4ge1xuICByZXR1cm4gZGF0YS5tYXBMaW5rQXZhaWxhYmlsaXRpZXNcbiAgICA/IE9iamVjdC5rZXlzKGRhdGEubWFwTGlua0F2YWlsYWJpbGl0aWVzKVxuICAgICAgICAuZmlsdGVyKChpZCkgPT5cbiAgICAgICAgICBkYXRhLm1hcExpbmtBdmFpbGFiaWxpdGllc1tpZF0uZXZlcnkoKHZhbDogbnVtYmVyKSA9PiB2YWwgPT09IDApXG4gICAgICAgIClcbiAgICAgICAgLm1hcChOdW1iZXIpXG4gICAgOiBbXTtcbn07XG4iXSwibmFtZXMiOlsiZ2V0UXVlcnlQYXJhbUFzU3RyaW5nIiwicGFyYW0iLCJkZWZhdWx0VmFsdWUiLCJBcnJheSIsImlzQXJyYXkiLCJnZXRDaGlsZE1hcElkc0Zyb21EYXRhIiwiZGF0YSIsIm1hcExpbmtBdmFpbGFiaWxpdGllcyIsIk9iamVjdCIsImtleXMiLCJmaWx0ZXIiLCJpZCIsImV2ZXJ5IiwidmFsIiwibWFwIiwiTnVtYmVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/ontario-parks/availability/utils.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/ontario-parks/legend/imageUrl.ts":
/*!********************************************************!*\
  !*** ./src/pages/api/ontario-parks/legend/imageUrl.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"fetchImageUrl\": () => (/* binding */ fetchImageUrl),\n/* harmony export */   \"getImageURL\": () => (/* binding */ getImageURL)\n/* harmony export */ });\n// in-memory cache\nlet imageCache = null;\nlet imageCacheTimestamp = null;\n// we have a cache time of 7 days\nconst CACHE_DURATION = 1000 * 60 * 60 * 168;\nasync function fetchImageUrl(mapId) {\n    const now = Date.now();\n    if (!imageCache) {\n        imageCache = new Map();\n    }\n    // we check if the cache is still valid\n    if (imageCache.has(mapId) && imageCacheTimestamp && now - imageCacheTimestamp < CACHE_DURATION) {\n        return imageCache.get(mapId) || null;\n    }\n    // if cache is not valid, we fetch new data\n    try {\n        const url = `https://reservations.ontarioparks.ca/api/photo/resourcelocation?resourceLocationId=${mapId}`;\n        const resp = await fetch(url);\n        if (!resp.ok) {\n            const errorDetails = await resp.text();\n            console.error(`Failed to fetch image URL: ${resp.status}, details: ${errorDetails}`);\n            throw new Error(`Failed to fetch image URL: ${resp.status}`);\n        }\n        const imageUrl = await resp.text();\n        // update the cache\n        imageCache.set(mapId, imageUrl);\n        imageCacheTimestamp = now;\n        return imageUrl;\n    } catch (error) {\n        console.error(\"Error fetching image URL:\", error);\n        throw new Error(\"Failed to fetch image URL\");\n    }\n}\nasync function getImageURL(mapId) {\n    const url = await fetchImageUrl(mapId);\n    return url;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL29udGFyaW8tcGFya3MvbGVnZW5kL2ltYWdlVXJsLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsa0JBQWtCO0FBQ2xCLElBQUlBLGFBQXlDLElBQUk7QUFDakQsSUFBSUMsc0JBQXFDLElBQUk7QUFFN0MsaUNBQWlDO0FBQ2pDLE1BQU1DLGlCQUFpQixPQUFPLEtBQUssS0FBSztBQUVqQyxlQUFlQyxjQUFjQyxLQUFhLEVBQTBCO0lBQ3pFLE1BQU1DLE1BQU1DLEtBQUtELEdBQUc7SUFFcEIsSUFBSSxDQUFDTCxZQUFZO1FBQ2ZBLGFBQWEsSUFBSU87SUFDbkIsQ0FBQztJQUVELHVDQUF1QztJQUN2QyxJQUNFUCxXQUFXUSxHQUFHLENBQUNKLFVBQ2ZILHVCQUNBSSxNQUFNSixzQkFBc0JDLGdCQUM1QjtRQUNBLE9BQU9GLFdBQVdTLEdBQUcsQ0FBQ0wsVUFBVSxJQUFJO0lBQ3RDLENBQUM7SUFFRCwyQ0FBMkM7SUFDM0MsSUFBSTtRQUNGLE1BQU1NLE1BQU0sQ0FBQyxtRkFBbUYsRUFBRU4sTUFBTSxDQUFDO1FBQ3pHLE1BQU1PLE9BQU8sTUFBTUMsTUFBTUY7UUFFekIsSUFBSSxDQUFDQyxLQUFLRSxFQUFFLEVBQUU7WUFDWixNQUFNQyxlQUFlLE1BQU1ILEtBQUtJLElBQUk7WUFDcENDLFFBQVFDLEtBQUssQ0FDWCxDQUFDLDJCQUEyQixFQUFFTixLQUFLTyxNQUFNLENBQUMsV0FBVyxFQUFFSixhQUFhLENBQUM7WUFFdkUsTUFBTSxJQUFJSyxNQUFNLENBQUMsMkJBQTJCLEVBQUVSLEtBQUtPLE1BQU0sQ0FBQyxDQUFDLEVBQUU7UUFDL0QsQ0FBQztRQUVELE1BQU1FLFdBQVcsTUFBTVQsS0FBS0ksSUFBSTtRQUVoQyxtQkFBbUI7UUFDbkJmLFdBQVdxQixHQUFHLENBQUNqQixPQUFPZ0I7UUFDdEJuQixzQkFBc0JJO1FBRXRCLE9BQU9lO0lBQ1QsRUFBRSxPQUFPSCxPQUFPO1FBQ2RELFFBQVFDLEtBQUssQ0FBQyw2QkFBNkJBO1FBQzNDLE1BQU0sSUFBSUUsTUFBTSw2QkFBNkI7SUFDL0M7QUFDRixDQUFDO0FBR00sZUFBZUcsWUFDcEJsQixLQUFhLEVBQ1c7SUFDdEIsTUFBTU0sTUFBTSxNQUFNUCxjQUFjQztJQUNoQyxPQUFPTTtBQUNYLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW1wZmluZHIvLi9zcmMvcGFnZXMvYXBpL29udGFyaW8tcGFya3MvbGVnZW5kL2ltYWdlVXJsLnRzPzFhMzMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW4tbWVtb3J5IGNhY2hlXG5sZXQgaW1hZ2VDYWNoZTogTWFwPG51bWJlciwgc3RyaW5nPiB8IG51bGwgPSBudWxsO1xubGV0IGltYWdlQ2FjaGVUaW1lc3RhbXA6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG4vLyB3ZSBoYXZlIGEgY2FjaGUgdGltZSBvZiA3IGRheXNcbmNvbnN0IENBQ0hFX0RVUkFUSU9OID0gMTAwMCAqIDYwICogNjAgKiAxNjg7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaEltYWdlVXJsKG1hcElkOiBudW1iZXIpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuICBpZiAoIWltYWdlQ2FjaGUpIHtcbiAgICBpbWFnZUNhY2hlID0gbmV3IE1hcDxudW1iZXIsIHN0cmluZz4oKTtcbiAgfVxuXG4gIC8vIHdlIGNoZWNrIGlmIHRoZSBjYWNoZSBpcyBzdGlsbCB2YWxpZFxuICBpZiAoXG4gICAgaW1hZ2VDYWNoZS5oYXMobWFwSWQpICYmXG4gICAgaW1hZ2VDYWNoZVRpbWVzdGFtcCAmJlxuICAgIG5vdyAtIGltYWdlQ2FjaGVUaW1lc3RhbXAgPCBDQUNIRV9EVVJBVElPTlxuICApIHtcbiAgICByZXR1cm4gaW1hZ2VDYWNoZS5nZXQobWFwSWQpIHx8IG51bGw7XG4gIH1cblxuICAvLyBpZiBjYWNoZSBpcyBub3QgdmFsaWQsIHdlIGZldGNoIG5ldyBkYXRhXG4gIHRyeSB7XG4gICAgY29uc3QgdXJsID0gYGh0dHBzOi8vcmVzZXJ2YXRpb25zLm9udGFyaW9wYXJrcy5jYS9hcGkvcGhvdG8vcmVzb3VyY2Vsb2NhdGlvbj9yZXNvdXJjZUxvY2F0aW9uSWQ9JHttYXBJZH1gO1xuICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBmZXRjaCh1cmwpO1xuXG4gICAgaWYgKCFyZXNwLm9rKSB7XG4gICAgICBjb25zdCBlcnJvckRldGFpbHMgPSBhd2FpdCByZXNwLnRleHQoKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGBGYWlsZWQgdG8gZmV0Y2ggaW1hZ2UgVVJMOiAke3Jlc3Auc3RhdHVzfSwgZGV0YWlsczogJHtlcnJvckRldGFpbHN9YFxuICAgICAgKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIGltYWdlIFVSTDogJHtyZXNwLnN0YXR1c31gKTtcbiAgICB9XG5cbiAgICBjb25zdCBpbWFnZVVybCA9IGF3YWl0IHJlc3AudGV4dCgpO1xuXG4gICAgLy8gdXBkYXRlIHRoZSBjYWNoZVxuICAgIGltYWdlQ2FjaGUuc2V0KG1hcElkLCBpbWFnZVVybCk7XG4gICAgaW1hZ2VDYWNoZVRpbWVzdGFtcCA9IG5vdztcblxuICAgIHJldHVybiBpbWFnZVVybDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgaW1hZ2UgVVJMOlwiLCBlcnJvcik7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIGltYWdlIFVSTFwiKTtcbiAgfVxufVxuXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRJbWFnZVVSTChcbiAgbWFwSWQ6IG51bWJlclxuKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gICAgY29uc3QgdXJsID0gYXdhaXQgZmV0Y2hJbWFnZVVybChtYXBJZCk7XG4gICAgcmV0dXJuIHVybFxufVxuIl0sIm5hbWVzIjpbImltYWdlQ2FjaGUiLCJpbWFnZUNhY2hlVGltZXN0YW1wIiwiQ0FDSEVfRFVSQVRJT04iLCJmZXRjaEltYWdlVXJsIiwibWFwSWQiLCJub3ciLCJEYXRlIiwiTWFwIiwiaGFzIiwiZ2V0IiwidXJsIiwicmVzcCIsImZldGNoIiwib2siLCJlcnJvckRldGFpbHMiLCJ0ZXh0IiwiY29uc29sZSIsImVycm9yIiwic3RhdHVzIiwiRXJyb3IiLCJpbWFnZVVybCIsInNldCIsImdldEltYWdlVVJMIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/ontario-parks/legend/imageUrl.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/ontario-parks/legend/mapLegend.ts":
/*!*********************************************************!*\
  !*** ./src/pages/api/ontario-parks/legend/mapLegend.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getMapLegendDetails\": () => (/* binding */ getMapLegendDetails)\n/* harmony export */ });\n/* harmony import */ var _imageUrl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./imageUrl */ \"(api)/./src/pages/api/ontario-parks/legend/imageUrl.ts\");\n\n// in-memory cache\nlet legendCache = null;\nlet cacheTimestamp = null;\n// we have a cache time of 7 days\nconst CACHE_DURATION = 1000 * 60 * 60 * 168;\nasync function fetchMapLegend() {\n    const now = Date.now();\n    // we check if the cache is still valid\n    if (legendCache && cacheTimestamp && now - cacheTimestamp < CACHE_DURATION) {\n        return legendCache;\n    }\n    // if cache is not valid, we fetch new data\n    try {\n        const url = `https://reservations.ontarioparks.ca/api/maps`;\n        const resp = await fetch(url);\n        if (!resp.ok) {\n            const errorDetails = await resp.text();\n            console.error(`Failed to fetch data: ${resp.status}, details: ${errorDetails}`);\n            throw new Error(`Failed to fetch data: ${resp.status}`);\n        }\n        const data = await resp.json();\n        // make the response a map with key being the mapId and values being things we use\n        const legendMap = new Map();\n        data.forEach((entry)=>{\n            const localizedEntry = entry.localizedValues.find((val)=>val.cultureName === \"en-CA\");\n            legendMap.set(entry.mapId, {\n                title: localizedEntry?.title,\n                description: localizedEntry?.description,\n                resourceLocationId: entry.resourceLocationId\n            });\n        });\n        // update the cache\n        legendCache = legendMap;\n        cacheTimestamp = now;\n        return legendMap;\n    } catch (error) {\n        console.error(\"Error fetching map legend data:\", error);\n        throw new Error(\"Failed to fetch map legend data\");\n    }\n}\nasync function getMapLegendDetails(mapId) {\n    try {\n        const legendMap = await fetchMapLegend();\n        const legendDetails = legendMap.get(mapId);\n        if (legendDetails) {\n            const imageUrl = await (0,_imageUrl__WEBPACK_IMPORTED_MODULE_0__.getImageURL)(legendDetails.resourceLocationId);\n            return {\n                title: legendDetails.title,\n                description: legendDetails.description,\n                imageUrl: imageUrl\n            };\n        }\n        return null;\n    } catch (error) {\n        console.error(\"Error fetching map legend details:\", error);\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL29udGFyaW8tcGFya3MvbGVnZW5kL21hcExlZ2VuZC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUN5QztBQUd6QyxrQkFBa0I7QUFDbEIsSUFBSUMsY0FBa0QsSUFBSTtBQUMxRCxJQUFJQyxpQkFBZ0MsSUFBSTtBQUV4QyxpQ0FBaUM7QUFDakMsTUFBTUMsaUJBQWlCLE9BQU8sS0FBSyxLQUFLO0FBRXhDLGVBQWVDLGlCQUF1RDtJQUNwRSxNQUFNQyxNQUFNQyxLQUFLRCxHQUFHO0lBRXBCLHVDQUF1QztJQUN2QyxJQUFJSixlQUFlQyxrQkFBa0JHLE1BQU1ILGlCQUFpQkMsZ0JBQWdCO1FBQzFFLE9BQU9GO0lBQ1QsQ0FBQztJQUVELDJDQUEyQztJQUMzQyxJQUFJO1FBQ0YsTUFBTU0sTUFBTSxDQUFDLDZDQUE2QyxDQUFDO1FBQzNELE1BQU1DLE9BQU8sTUFBTUMsTUFBTUY7UUFFekIsSUFBSSxDQUFDQyxLQUFLRSxFQUFFLEVBQUU7WUFDWixNQUFNQyxlQUFlLE1BQU1ILEtBQUtJLElBQUk7WUFDcENDLFFBQVFDLEtBQUssQ0FDWCxDQUFDLHNCQUFzQixFQUFFTixLQUFLTyxNQUFNLENBQUMsV0FBVyxFQUFFSixhQUFhLENBQUM7WUFFbEUsTUFBTSxJQUFJSyxNQUFNLENBQUMsc0JBQXNCLEVBQUVSLEtBQUtPLE1BQU0sQ0FBQyxDQUFDLEVBQUU7UUFDMUQsQ0FBQztRQUVELE1BQU1FLE9BQTBCLE1BQU1ULEtBQUtVLElBQUk7UUFFL0Msa0ZBQWtGO1FBQ2xGLE1BQU1DLFlBQVksSUFBSUM7UUFDdEJILEtBQUtJLE9BQU8sQ0FBQyxDQUFDQyxRQUFVO1lBQ3RCLE1BQU1DLGlCQUFpQkQsTUFBTUUsZUFBZSxDQUFDQyxJQUFJLENBQy9DLENBQUNDLE1BQVFBLElBQUlDLFdBQVcsS0FBSztZQUcvQlIsVUFBVVMsR0FBRyxDQUFDTixNQUFNTyxLQUFLLEVBQUU7Z0JBQ3pCQyxPQUFPUCxnQkFBZ0JPO2dCQUN2QkMsYUFBYVIsZ0JBQWdCUTtnQkFDN0JDLG9CQUFvQlYsTUFBTVUsa0JBQWtCO1lBQzlDO1FBQ0Y7UUFFQSxtQkFBbUI7UUFDbkIvQixjQUFja0I7UUFDZGpCLGlCQUFpQkc7UUFFakIsT0FBT2M7SUFDVCxFQUFFLE9BQU9MLE9BQU87UUFDZEQsUUFBUUMsS0FBSyxDQUFDLG1DQUFtQ0E7UUFDakQsTUFBTSxJQUFJRSxNQUFNLG1DQUFtQztJQUNyRDtBQUNGO0FBRU8sZUFBZWlCLG9CQUNwQkosS0FBYSxFQUNrQjtJQUMvQixJQUFJO1FBQ0YsTUFBTVYsWUFBWSxNQUFNZjtRQUN4QixNQUFNOEIsZ0JBQWdCZixVQUFVZ0IsR0FBRyxDQUFDTjtRQUVwQyxJQUFJSyxlQUFlO1lBQ2pCLE1BQU1FLFdBQVcsTUFBTXBDLHNEQUFXQSxDQUFDa0MsY0FBY0Ysa0JBQWtCO1lBRW5FLE9BQU87Z0JBQ0xGLE9BQU9JLGNBQWNKLEtBQUs7Z0JBQzFCQyxhQUFhRyxjQUFjSCxXQUFXO2dCQUN0Q0ssVUFBVUE7WUFDWjtRQUNGLENBQUM7UUFFRCxPQUFPLElBQUk7SUFDYixFQUFFLE9BQU90QixPQUFPO1FBQ2RELFFBQVFDLEtBQUssQ0FBQyxzQ0FBc0NBO1FBQ3BELE9BQU8sSUFBSTtJQUNiO0FBQ0YsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXBmaW5kci8uL3NyYy9wYWdlcy9hcGkvb250YXJpby1wYXJrcy9sZWdlbmQvbWFwTGVnZW5kLnRzPzQ4ZTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGVnZW5kRGV0YWlscywgTWFwTGVnZW5kRW50cnkgfSBmcm9tIFwiQHBhY2thZ2VzL3R5cGVzXCI7XG5pbXBvcnQgeyBnZXRJbWFnZVVSTCB9IGZyb20gXCIuL2ltYWdlVXJsXCI7XG5pbXBvcnQgeyBNYXBMZWdlbmRSZXNwb25zZSB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbi8vIGluLW1lbW9yeSBjYWNoZVxubGV0IGxlZ2VuZENhY2hlOiBNYXA8bnVtYmVyLCBNYXBMZWdlbmRFbnRyeT4gfCBudWxsID0gbnVsbDtcbmxldCBjYWNoZVRpbWVzdGFtcDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbi8vIHdlIGhhdmUgYSBjYWNoZSB0aW1lIG9mIDcgZGF5c1xuY29uc3QgQ0FDSEVfRFVSQVRJT04gPSAxMDAwICogNjAgKiA2MCAqIDE2ODtcblxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNYXBMZWdlbmQoKTogUHJvbWlzZTxNYXA8bnVtYmVyLCBNYXBMZWdlbmRFbnRyeT4+IHtcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuICAvLyB3ZSBjaGVjayBpZiB0aGUgY2FjaGUgaXMgc3RpbGwgdmFsaWRcbiAgaWYgKGxlZ2VuZENhY2hlICYmIGNhY2hlVGltZXN0YW1wICYmIG5vdyAtIGNhY2hlVGltZXN0YW1wIDwgQ0FDSEVfRFVSQVRJT04pIHtcbiAgICByZXR1cm4gbGVnZW5kQ2FjaGU7XG4gIH1cblxuICAvLyBpZiBjYWNoZSBpcyBub3QgdmFsaWQsIHdlIGZldGNoIG5ldyBkYXRhXG4gIHRyeSB7XG4gICAgY29uc3QgdXJsID0gYGh0dHBzOi8vcmVzZXJ2YXRpb25zLm9udGFyaW9wYXJrcy5jYS9hcGkvbWFwc2A7XG4gICAgY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoKHVybCk7XG5cbiAgICBpZiAoIXJlc3Aub2spIHtcbiAgICAgIGNvbnN0IGVycm9yRGV0YWlscyA9IGF3YWl0IHJlc3AudGV4dCgpO1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgYEZhaWxlZCB0byBmZXRjaCBkYXRhOiAke3Jlc3Auc3RhdHVzfSwgZGV0YWlsczogJHtlcnJvckRldGFpbHN9YFxuICAgICAgKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIGRhdGE6ICR7cmVzcC5zdGF0dXN9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YTogTWFwTGVnZW5kUmVzcG9uc2UgPSBhd2FpdCByZXNwLmpzb24oKTtcblxuICAgIC8vIG1ha2UgdGhlIHJlc3BvbnNlIGEgbWFwIHdpdGgga2V5IGJlaW5nIHRoZSBtYXBJZCBhbmQgdmFsdWVzIGJlaW5nIHRoaW5ncyB3ZSB1c2VcbiAgICBjb25zdCBsZWdlbmRNYXAgPSBuZXcgTWFwPG51bWJlciwgTWFwTGVnZW5kRW50cnk+KCk7XG4gICAgZGF0YS5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgY29uc3QgbG9jYWxpemVkRW50cnkgPSBlbnRyeS5sb2NhbGl6ZWRWYWx1ZXMuZmluZChcbiAgICAgICAgKHZhbCkgPT4gdmFsLmN1bHR1cmVOYW1lID09PSBcImVuLUNBXCJcbiAgICAgICk7XG5cbiAgICAgIGxlZ2VuZE1hcC5zZXQoZW50cnkubWFwSWQsIHtcbiAgICAgICAgdGl0bGU6IGxvY2FsaXplZEVudHJ5Py50aXRsZSxcbiAgICAgICAgZGVzY3JpcHRpb246IGxvY2FsaXplZEVudHJ5Py5kZXNjcmlwdGlvbixcbiAgICAgICAgcmVzb3VyY2VMb2NhdGlvbklkOiBlbnRyeS5yZXNvdXJjZUxvY2F0aW9uSWQsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIHVwZGF0ZSB0aGUgY2FjaGVcbiAgICBsZWdlbmRDYWNoZSA9IGxlZ2VuZE1hcDtcbiAgICBjYWNoZVRpbWVzdGFtcCA9IG5vdztcblxuICAgIHJldHVybiBsZWdlbmRNYXA7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIG1hcCBsZWdlbmQgZGF0YTpcIiwgZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCBtYXAgbGVnZW5kIGRhdGFcIik7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE1hcExlZ2VuZERldGFpbHMoXG4gIG1hcElkOiBudW1iZXJcbik6IFByb21pc2U8TGVnZW5kRGV0YWlscyB8IG51bGw+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBsZWdlbmRNYXAgPSBhd2FpdCBmZXRjaE1hcExlZ2VuZCgpO1xuICAgIGNvbnN0IGxlZ2VuZERldGFpbHMgPSBsZWdlbmRNYXAuZ2V0KG1hcElkKTtcblxuICAgIGlmIChsZWdlbmREZXRhaWxzKSB7XG4gICAgICBjb25zdCBpbWFnZVVybCA9IGF3YWl0IGdldEltYWdlVVJMKGxlZ2VuZERldGFpbHMucmVzb3VyY2VMb2NhdGlvbklkKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IGxlZ2VuZERldGFpbHMudGl0bGUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBsZWdlbmREZXRhaWxzLmRlc2NyaXB0aW9uLFxuICAgICAgICBpbWFnZVVybDogaW1hZ2VVcmwsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBtYXAgbGVnZW5kIGRldGFpbHM6XCIsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImdldEltYWdlVVJMIiwibGVnZW5kQ2FjaGUiLCJjYWNoZVRpbWVzdGFtcCIsIkNBQ0hFX0RVUkFUSU9OIiwiZmV0Y2hNYXBMZWdlbmQiLCJub3ciLCJEYXRlIiwidXJsIiwicmVzcCIsImZldGNoIiwib2siLCJlcnJvckRldGFpbHMiLCJ0ZXh0IiwiY29uc29sZSIsImVycm9yIiwic3RhdHVzIiwiRXJyb3IiLCJkYXRhIiwianNvbiIsImxlZ2VuZE1hcCIsIk1hcCIsImZvckVhY2giLCJlbnRyeSIsImxvY2FsaXplZEVudHJ5IiwibG9jYWxpemVkVmFsdWVzIiwiZmluZCIsInZhbCIsImN1bHR1cmVOYW1lIiwic2V0IiwibWFwSWQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwicmVzb3VyY2VMb2NhdGlvbklkIiwiZ2V0TWFwTGVnZW5kRGV0YWlscyIsImxlZ2VuZERldGFpbHMiLCJnZXQiLCJpbWFnZVVybCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/ontario-parks/legend/mapLegend.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./src/pages/api/ontario-parks/availability/getAvailability.ts"));
module.exports = __webpack_exports__;

})();